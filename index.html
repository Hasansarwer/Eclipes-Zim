<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Asteroid Boom</title>

<!-- zimjs.com - JavaScript Canvas Framework -->
<script type=module>

import zim from "https://zimjs.org/cdn/015/zim";

var assets = ["sun2.png"];
var path = "assets/";
const er = 30;
const mr = 10;
var et = 0;
var mt = 0;
const ev =1;
const em = .1;

function cosTheta(degrees) {
    var radians = Math.PI*degrees/180;
    return Math.cos(radians);
}

function sinTheta(degrees) {
    var radians = Math.PI*degrees/180;
    return Math.sin(radians);
}

const earth = {
    x: er*cosTheta(et),
    y: er*sinTheta(et),
    r: 30,
    color: blue
}

const moon = {
    x: earth.x + mr*cosTheta(mt),
    y: earth.y + mr*sinTheta(mt),
    r: 10,
    color: gray
}

function drawCircle(obj){
    new Circle(obj.r, obj.color)
    .pos(obj.x, obj.y);
}

function rpos(t,v){
    t +=v;
    if(t>= 360){
        return t-360; 
    }else{
        return t;
    }
}

// See Docs under Frame for FIT, FILL, FULL, and TAG
new Frame(FIT, 1024, 768, light, dark, ready, assets, path, new Waiter());
function ready() {

    new Pic("sun2.png").sca(2).center();
    // new Circle(20, red).addTo().animate({
    //     time: 3,
    //     loop: true,
    //     ease: 'linear'
    // })
    //     .center()
    //     .drag();
    et = rpos(et, ev);
    drawCircle(earth);
    mt = rpos(mt, mv);
    drawCircle(moon);
    
        
} // end ready

</script>
<meta name="viewport" content="width=device-width, user-scalable=no" />
</head>
<body></body>
</html>